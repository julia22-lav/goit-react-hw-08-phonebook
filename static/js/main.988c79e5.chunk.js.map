{"version":3,"sources":["components/AppBar/SideNav/SideNav.js","components/AppBar/AuthNav/AuthNav.js","redux/auth/auth-selectors.js","components/UserMenu/profile_pic.png","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","components/AppBar/PrivateRoute.js","components/AppBar/PublicRoute.js","App.js","redux/contacts/contacts-reducer.js","redux/auth/auth-reducer.js","redux/store.js","index.js","redux/contacts/contacts-types.js","redux/contacts/contacts-actions.js","components/AppBar/SideNav/SideNav.module.css","components/AppBar/AuthNav/AuthNav.module.css","redux/auth/auth-operations.js","components/UserMenu/UserMenu.module.css","redux/auth/auth-actions.js","components/AppBar/AppBar.module.css"],"names":["SideNav","className","s","SideNavLink","to","exact","NavLink","activeClassName","NavLinkActive","AuthNav","AuthNavLink","state","auth","isAuthenticated","user","name","mapDispatchToProps","onLogout","authOperations","logout","connect","authSelectors","avatar","style","marginLeft","width","Avatar","src","alt","Button","variant","type","onClick","Navbar","bg","AppBar","Component","component","routeProps","render","props","restricted","HomePage","lazy","LoginPage","RegisterPage","ContactsPage","App","this","onGetCurrentUser","fallback","path","getCurrentUser","addContactRequest","actions","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","fetchContactsSuccess","fetchContactsRequest","itemsReducer","fetchContactsError","createReducer","_","payload","find","contact","alert","filter","id","filterReducer","loading","contactsReducer","combineReducers","items","initialUserState","email","authActions","registerSuccess","loginSuccess","logoutSuccess","__","getCurrentUserSuccess","registerError","loginError","getCurrentUserError","token","error","logoutError","authPersistConfig","key","storage","whitelist","rootReducer","contacts","persistReducer","authReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","store","configureStore","reducer","devTools","process","persistor","persistStore","ReactDOM","StrictMode","document","getElementById","createAction","filterChange","module","exports","axios","defaults","baseURL","headers","common","Authorization","register","credentials","dispatch","a","registerRequest","post","response","data","message","login","loginRequest","logoutRequest","getState","persistedToken","getCurrentUserRequest","get"],"mappings":"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","file":"static/js/main.988c79e5.chunk.js","sourcesContent":["import React from 'react';\r\nimport s from './SideNav.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst SideNav = () => {\r\n  return (\r\n    <ul className={s.SideNav}>\r\n      <li className={s.SideNavLink}>\r\n        <NavLink\r\n          to=\"/\"\r\n          exact\r\n          className={s.NavLink}\r\n          activeClassName={s.NavLinkActive}\r\n        >\r\n          Home\r\n        </NavLink>\r\n      </li>\r\n      <li className={s.SideNavLink}>\r\n        <NavLink\r\n          to=\"/contacts\"\r\n          exact\r\n          className={s.NavLink}\r\n          activeClassName={s.NavLinkActive}\r\n        >\r\n          Contacts\r\n        </NavLink>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default SideNav;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './AuthNav.module.css';\r\n\r\nconst AuthNav = () => {\r\n  return (\r\n    <ul className={s.AuthNav}>\r\n      <li className={s.AuthNavLink}>\r\n        <NavLink\r\n          to=\"/register\"\r\n          exact\r\n          className={s.NavLink}\r\n          activeClassName={s.NavLinkActive}\r\n        >\r\n          Registration\r\n        </NavLink>\r\n      </li>\r\n      <li className={s.AuthNavLink}>\r\n        <NavLink\r\n          to=\"/login\"\r\n          className={s.NavLink}\r\n          activeClassName={s.NavLinkActive}\r\n        >\r\n          Login\r\n        </NavLink>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default AuthNav;\r\n","const getIsAuthenticated = state => state.auth.isAuthenticated;\r\n\r\nconst getUserName = state => state.auth.user.name;\r\n\r\nexport default { getIsAuthenticated, getUserName };\r\n","export default __webpack_public_path__ + \"static/media/profile_pic.3f71ad80.png\";","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../../redux/auth/auth-selectors';\r\nimport authOperations from '../../redux/auth/auth-operations';\r\nimport avatar from './profile_pic.png';\r\nimport s from './UserMenu.module.css';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nconst UserMenu = ({ avatar, name, onLogout }) => {\r\n  return (\r\n    <div style={{ marginLeft: 'auto', width: 'auto' }}>\r\n      <img className={s.Avatar} src={avatar} alt=\"\" width=\"32\" />\r\n      <span>Welcome, {name}</span>\r\n      <Button\r\n        className={s.Button}\r\n        variant=\"light\"\r\n        type=\"button\"\r\n        onClick={onLogout}\r\n      >\r\n        Logout\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  name: authSelectors.getUserName(state),\r\n  avatar,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onLogout: authOperations.logout,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\r\n","import React from 'react';\r\nimport SideNav from './SideNav';\r\nimport AuthNav from './AuthNav';\r\nimport UserMenu from '../UserMenu';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../../redux/auth/auth-selectors';\r\nimport s from './AppBar.module.css';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\n\r\nconst AppBar = ({ isAuthenticated }) => {\r\n  return (\r\n    <Navbar bg=\"info\" variant=\"dark\" className={s.AppBar}>\r\n      <SideNav />\r\n      {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(AppBar);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../../redux/auth/auth-selectors';\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n    }\r\n  />\r\n);\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../../redux/auth/auth-selectors';\r\n\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated && routeProps.restricted ? (\r\n        <Redirect to=\"/contacts\" />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import './App.css';\nimport React, { Component, Suspense, lazy } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport AppBar from './components/AppBar';\nimport authOperations from './redux/auth/auth-operations';\nimport { connect } from 'react-redux';\nimport PrivateRoute from './components/AppBar/PrivateRoute';\nimport PublicRoute from './components/AppBar/PublicRoute';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n// import ContactForm from './components/ContactForm';\n// import { v4 as genId } from 'uuid';\n// import ContactList from './components/ContactList';\n// import Filter from './components/Filter';\n\nconst HomePage = lazy(() =>\n  import('./pages/home-page' /*WebpackChunkName: HomePage */),\n);\nconst LoginPage = lazy(() =>\n  import('./pages/login-page' /*WebpackChunkName: LoginPage */),\n);\nconst RegisterPage = lazy(() =>\n  import('./pages/register-page' /*WebpackChunkName: RegisterPage */),\n);\nconst ContactsPage = lazy(() =>\n  import('./pages/contacts-page' /*WebpackChunkName: ContactsPage */),\n);\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onGetCurrentUser();\n  }\n\n  render() {\n    return (\n      <>\n        <AppBar />\n        <Suspense fallback={<p>Loading...</p>}>\n          <Switch>\n            <Route exact path=\"/\" component={HomePage} />\n            <PublicRoute\n              exact\n              path=\"/register\"\n              restricted\n              component={RegisterPage}\n            />\n            <PublicRoute exact path=\"/login\" restricted component={LoginPage} />\n            <PrivateRoute exact path=\"/contacts\" component={ContactsPage} />\n            <Route component={HomePage} />\n          </Switch>\n        </Suspense>\n      </>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  onGetCurrentUser: authOperations.getCurrentUser,\n};\n\nexport default connect(null, mapDispatchToProps)(App);\n","import { combineReducers } from 'redux';\r\n// import types from './contacts-types';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport actions from './contacts-actions';\r\n\r\nconst {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n} = actions;\r\n\r\n// const itemsReducer = (state = [], { type, payload }) => {\r\n//   switch (type) {\r\n//     case types.AddContact:\r\n//       if (state.find(contact => contact.name === payload.name)) {\r\n//         alert(`${payload.name} is already in contacts.`);\r\n//         return state;\r\n//       }\r\n//       return [...state, payload];\r\n//     case types.DeleteContact:\r\n//       return state.filter(({ id }) => id !== payload);\r\n//     default:\r\n//       return state;\r\n//   }\r\n// };\r\n\r\nconst itemsReducer = createReducer([], {\r\n  [fetchContactsSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => {\r\n    if (state.find(contact => contact.name === payload.name)) {\r\n      alert(`${payload.name} is already in contacts.`);\r\n      return state;\r\n    }\r\n    return [...state, payload];\r\n  },\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\n// const filterReducer = (state = '', { type, payload }) => {\r\n//   switch (type) {\r\n//     case types.FilterChange:\r\n//       return payload;\r\n//     default:\r\n//       return state;\r\n//   }\r\n// };\r\n\r\nconst filterReducer = createReducer('', {\r\n  'contacts/FilterChange': (_, { payload }) => payload,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nconst contactsReducer = combineReducers({\r\n  items: itemsReducer,\r\n  filter: filterReducer,\r\n  loading,\r\n});\r\n\r\nexport default contactsReducer;\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport authActions from './auth-actions';\r\n\r\nconst initialUserState = { name: null, email: null };\r\nconst user = createReducer(initialUserState, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.logoutSuccess]: (_, __) => initialUserState,\r\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst isAuthenticated = createReducer(false, {\r\n  [authActions.registerSuccess]: () => true,\r\n  [authActions.loginSuccess]: () => true,\r\n  [authActions.getCurrentUserSuccess]: () => true,\r\n  [authActions.registerError]: () => false,\r\n  [authActions.loginError]: () => false,\r\n  [authActions.getCurrentUserError]: () => false,\r\n  [authActions.logoutSuccess]: () => false,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.logoutSuccess]: (_, __) => null,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [authActions.registerError]: (_, { payload }) => payload,\r\n  [authActions.loginError]: (_, { payload }) => payload,\r\n  [authActions.logoutError]: (_, { payload }) => payload,\r\n  [authActions.getCurrentUserError]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({ user, isAuthenticated, token, error });\r\n","import { combineReducers } from 'redux';\r\n// import { composeWithDevTools } from 'redux-devtools-extension';\r\nimport contactsReducer from './contacts/contacts-reducer';\r\nimport { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport authReducer from './auth/auth-reducer';\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n// const contactsPersistConfig = {\r\n//   key: 'contacts',\r\n//   storage,\r\n//   blacklist: ['filter'],\r\n// };\r\n\r\nconst rootReducer = combineReducers({\r\n  contacts: contactsReducer,\r\n  auth: persistReducer(authPersistConfig, authReducer),\r\n});\r\n\r\n// const store = createStore(rootReducer, composeWithDevTools());\r\n\r\n// const rootReducer = {\r\n//   contacts: persistReducer(contactsPersistConfig, contactsReducer),\r\n// };\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  logger,\r\n];\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n// export default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store.store}>\n        <PersistGate loading={null} persistor={store.persistor}>\n          <App />\n        </PersistGate>\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","/* eslint-disable import/no-anonymous-default-export */\r\nexport default {\r\n  AddContact: 'contacts/AddContact',\r\n  DeleteContact: 'contacts/DeleteContact',\r\n  FilterChange: 'contacts/FilterChange',\r\n};\r\n","import types from './contacts-types';\r\nimport { v4 as genId } from 'uuid';\r\nimport { createAction } from '@reduxjs/toolkit';\r\n\r\n// const addContact = ({ name, number, id }) => {\r\n//   return {\r\n//     type: types.AddContact,\r\n//     payload: { name, number, id: genId() },\r\n//   };\r\n// };\r\n\r\n// const addContact = createAction(types.AddContact, ({ name, number }) => {\r\n//   return { payload: { name, number, id: genId() } };\r\n// });\r\n\r\n// const deleteContact = contactId => {\r\n//   return {\r\n//     type: types.DeleteContact,\r\n//     payload: contactId,\r\n//   };\r\n// };\r\n\r\n// const deleteContact = createAction(types.DeleteContact);\r\n\r\n// const filterChange = value => {\r\n//   return {\r\n//     type: types.FilterChange,\r\n//     payload: value,\r\n//   };\r\n// };\r\n\r\nconst fetchContactsRequest = createAction('contacts/fetchContactsRequest');\r\nconst fetchContactsSuccess = createAction('contacts/fetchContactsSuccess');\r\nconst fetchContactsError = createAction('contacts/fetchContactsError');\r\n\r\nconst addContactRequest = createAction('contacts/addContactRequest');\r\nconst addContactSuccess = createAction('contacts/addContactSuccess');\r\nconst addContactError = createAction('contacts/addContactError');\r\n\r\nconst deleteContactRequest = createAction('contacts/deleteContactRequest');\r\nconst deleteContactSuccess = createAction('contacts/deleteContactSuccess');\r\nconst deleteContactError = createAction('contacts/deleteContactError');\r\n\r\nconst filterChange = createAction(types.FilterChange);\r\n\r\n// export default { addContact, deleteContact, filterChange };\r\n\r\nexport default {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  filterChange,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SideNav\":\"SideNav_SideNav__26JGD\",\"SideNavLink\":\"SideNav_SideNavLink__laBKs\",\"NavLink\":\"SideNav_NavLink__1Vsp8\",\"NavLinkActive\":\"SideNav_NavLinkActive__3usCv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AuthNav\":\"AuthNav_AuthNav__UqbkM\",\"AuthNavLink\":\"AuthNav_AuthNavLink__JSvee\",\"NavLink\":\"AuthNav_NavLink__1lifd\",\"NavLinkActive\":\"AuthNav_NavLinkActive__1kvB_\"};","import axios from 'axios';\r\nimport authActions from './auth-actions';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = credentials => async dispatch => {\r\n  dispatch(authActions.registerRequest());\r\n\r\n  try {\r\n    const response = await axios.post('/users/signup', credentials);\r\n    token.set(response.data.token);\r\n    dispatch(authActions.registerSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.registerError(error.message));\r\n  }\r\n};\r\n\r\nconst login = credentials => async dispatch => {\r\n  dispatch(authActions.loginRequest());\r\n\r\n  try {\r\n    const response = await axios.post('/users/login', credentials);\r\n    token.set(response.data.token);\r\n    dispatch(authActions.loginSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.loginError(error.message));\r\n  }\r\n};\r\n\r\nconst logout = () => async dispatch => {\r\n  dispatch(authActions.logoutRequest());\r\n\r\n  try {\r\n    await axios.post('/users/logout');\r\n    dispatch(authActions.logoutSuccess());\r\n    token.unset();\r\n  } catch (error) {\r\n    dispatch(authActions.logoutError(error.message));\r\n  }\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  token.set(persistedToken);\r\n\r\n  dispatch(authActions.getCurrentUserRequest());\r\n\r\n  try {\r\n    const response = await axios.get('/users/current');\r\n    dispatch(authActions.getCurrentUserSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.getCurrentUserError(error.message));\r\n  }\r\n};\r\n\r\nexport default { register, login, logout, getCurrentUser };\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"UserMenu_Button__FCJiD\",\"Avatar\":\"UserMenu_Avatar__mx0Dk\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst loginRequest = createAction('auth/loginRequest');\r\nconst loginSuccess = createAction('auth/loginSuccess');\r\nconst loginError = createAction('auth/loginError');\r\n\r\nconst logoutRequest = createAction('auth/logoutRequest');\r\nconst logoutSuccess = createAction('auth/logoutSuccess');\r\nconst logoutError = createAction('auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n\r\nexport default {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AppBar\":\"AppBar_AppBar__LJpi9\"};"],"sourceRoot":""}